<div class="max-w-3xl mx-auto p-6 space-y-8">
    <h1 class="text-2xl font-bold text-center">Tasquery - AI Task Generator</h1>

    <textarea
        class="textarea textarea-bordered w-full h-40 rounded-2xl"
        placeholder="Paste your meeting notes or chat..."
        [(ngModel)]="inputText"
    ></textarea>

    <div class="flex justify-center">
        <button class="btn btn-primary btn-xl btn-wide rounded-2xl" (click)="generateTasks()">
            <lucide-icon [img]="sendHorizontalIcon" class="my-icon"></lucide-icon>
            Generate Tasks
        </button>
    </div>

    <div class="divider mb-8">Output</div>
    @if (tasks() && tasks().length > 0) {
        @for (task of tasks(); track task.title) {
            <div class="card bg-base-100 shadow-md rounded-2xl">
                <div class="card-body">
                    <h2 class="card-title flex justify-between items-center">
                        {{ task.title }}
                        <span class="text-sm opacity-70">{{ getTaskPriority(task) }}</span>
                    </h2>

                    <div class="flex flex-row gap-2 mb-3">
                        @for (badge of task.labels; track badge) {
                            <app-badge [label]="badge"></app-badge>
                        }
                    </div>

                    <p class="mb-3">{{ task.body }}</p>
                    <div class="card-actions justify-end items-center">
                        <span>Export task as:</span>

                        <button class="btn btn-outline btn-sm tooltip rounded-xl" (click)="openExportDialog(task, 'markdown')" data-tip="Export task to Markdown">
                            <lucide-icon [img]="codeXmlIcon" size="16"></lucide-icon>
                            Markdown
                        </button>

                        <button class="btn btn-outline btn-sm tooltip rounded-xl" (click)="openExportDialog(task, 'json')" data-tip="Export task to JSON">
                            <lucide-icon [img]="fileJsonIcon" size="16"></lucide-icon>
                            JSON
                        </button>

                        <app-export-dialog
                            [format]="exportFormat()"
                            [content]="convertedTask()"
                            (onDownload)="exportToFormat(task)"
                        ></app-export-dialog>
                    </div>
                </div>
            </div>
        }
    }
</div>
<div class="flex justify-between w-full absolute top-72 -z-10">
    <!-- SVG on the left -->
    <img [ngSrc]="'/taking-notes-2.svg'"
         priority
         width="400"
         height="600"
         alt="AI Image"
         class="h-auto relative w-[20%]"/>

    <!-- SVG on the right -->
    <img [ngSrc]="'/content-structure-2.svg'"
         priority
         width="360"
         height="600"
         alt="AI Image"
         class="h-auto relative w-[16%]"/>
</div>
